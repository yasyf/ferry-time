<!DOCTYPE html>
<html lang="en" ng-app='FerryTime' ng-controller='RootCtrl' ng-cloak>
  <head>
    <base href="/">
    <meta name="fragment" content="!" />
    <meta charset="utf-8" />

    {% raw %}
      <meta name="description" ng-bind-template="{{title}} BC Ferry Info. FerryTime is an alternate portal for consuming the schedule and sailing information published by BC Ferries, with text (SMS) alerts for when ferries are late or delayed." content="FerryTime is an alternate portal for consuming the schedule and sailing information published by BC Ferries, with text (SMS) alerts for when ferries are late or delayed." />
      <title ng-bind-template="{{title}} - FerryTime">FerryTime</title>
    {% endraw %}

    {% block meta %}{% endblock %}

    <meta name="viewport" content="width=device-width">
    <link rel="icon" sizes="128x128" href="{{ url_for('static', filename='img/apple-touch-icon.png') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='img/apple-touch-icon.png') }}">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="FerryTime">

    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/angular_material/0.6.1/angular-material.min.css">
    {% assets "css_all" %}
    <link rel="stylesheet" type="text/css" href="{{ ASSET_URL }}"></link>
    {% endassets %}
    <style>
      {% block css %}{% endblock %}
    </style>

    <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>
    <script src="//cdn.jsdelivr.net/hammerjs/2.0.4/hammer.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-utils/0.1.1/angular-ui-utils.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-route.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-animate.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-aria.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angular_material/0.6.1/angular-material.min.js"></script>
    {% assets "js_app" %}
      <script type="text/javascript" src="{{ ASSET_URL }}"></script>
    {% endassets %}
    {% assets "js_all" %}
      <script type="text/javascript" src="{{ ASSET_URL }}"></script>
    {% endassets %}
    <script>
      window.prerenderReady = false;
      addToHomescreen({skipFirstVisit: true});
    </script>
    <script>
      {% block js %}{% endblock %}
    </script>
  </head>
  <body>
    <div class="container-fluid" id='container'>
      <div class="main">
        <!-- Messages -->
        <div id="messages">
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                 <div class="alert alert-{{ category }} alert-dismissable">
                  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>
                  {{ message|safe }}
                </div>
                {% endfor %}
              {% endif %}
            {% endwith %}
        </div>
        <!-- Body -->
        <div id="body">
          {% block body %}{% endblock %}
        </div>
      </div>
    </div>
  </body>
</html>
